
<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>管理系统</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
	<link rel="stylesheet" type="text/css" href="lib/css/bootstrap.css"/>
	<link rel="stylesheet" href="css/index.css" />
	<style>
		.pagination > .active > a{
		    z-index: 3;
		    color: #fff;
		    cursor: default;
		    background-color: #5cb85c;
		    border-color: #4cae4c;
		}
		.pagination > .active > a:hover{
		    z-index: 3;
		    color: #fff;
		    cursor: default;
		    background-color: #5cb85c;
		    border-color: #4cae4c;
		}
	</style>
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
	<div class="container-fluid">
		<div class="navbar-header">
			<button class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topMenu">
				<i class="icon-bar"></i>
				<i class="icon-bar"></i>
				<i class="icon-bar"></i>
			</button>
			<a href="#" class="navbar-brand">管理后台</a>
		</div>
		<div class="collapse navbar-collapse" id="topMenu">
			<ul class="nav navbar-nav">
				<li><a href="#">内容管理</a></li>
				<li><a href="#">用户管理</a></li>
				<li><a href="#">客户管理</a></li>
				<li><a href="#">栏目管理</a></li>
				<li><a href="#">订单管理</a></li>
				<li><a href="#">微信公众号</a></li>
			</ul>
			
			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown"><a href="#" data-toggle="dropdown">用户管理<span class="caret"></span></a>
					<ul class="dropdown-menu">
						<li><a href="">个人信息</a></li>
						<li><a href="">修改密码</a></li>
						<li><a href="">上传头像</a></li>
						<li><a href="">站内信息<span class="badge label label-success">10</span></a></li>
						<li class="divider"></li>
						<li><a href="login.html">退出登录</a></li>
					</ul>
				</li>
			</ul>
			<p class="navbar-text navbar-right">欢迎使用<a href="" class="navbar-link">xx</a></p>
		</div>
		</div>
	</div><!--end navbar  header end-->
	<div class="container-fluid main">
		<div class="row">
			<div class="col-md-2 navbar-inverse leftbar hidden-xs">
				<ul class="nav navbar">
					<li class="jiantou"><a href="#manageuser" data-toggle="collapse"><span style="margin-right: 5px;" class="glyphicon glyphicon-user"></span>用户管理 <i class="glyphicon glyphicon-chevron-down pull-right" id="demo"></i></a>
						<div class="list-group collapse" id="manageuser">
							<a href="#adduser" class="list-group-item" data-toggle="tab">添加用户</a>
							<a href="#listuser" class="list-group-item" data-toggle="tab">用户列表</a>
							<a href="#" class="list-group-item">权限管理</a>
							<a href="#" class="list-group-item">添加用户</a>
							
						</div>
						
					</li>
					<li class="jiantou"><a href="#managecontent" data-toggle="collapse"><span style="margin-right: 5px;" class="glyphicon glyphicon-edit"></span>内容管理 <i class="glyphicon glyphicon-chevron-down pull-right"></i></a>
						<div class="list-group collapse" id="managecontent">
							<a href="#" class="list-group-item">添加用户1</a>
							<a href="#" class="list-group-item">添加用户2</a>
							<a href="#" class="list-group-item">添加用户3</a>
							<a href="#" class="list-group-item">添加用户4</a>
							<a href="#" class="list-group-item">添加用户5</a>
							<a href="#" class="list-group-item">添加用户6</a>
						</div>
					</li>

				</ul>
			</div><!--end leftbar-->
			<div class="col-md-10 tab-content">
				<div class="container tab-pane" id="listuser">
					<div class="panel panel-success">
						<div class="panel-heading">
							<h4>用户列表</h4>
						</div>
						<div class="panel-body">
							
						</div>
						<table class="table table-responsive table-bordered table-hover">
					<thead>
						<tr>
							<th>编号</th>
							<th>用户名</th>
							<th>性别</th>
							<th>年龄</th>
						</tr>
					</thead>
					<tbody>

					</tbody>
				</table>

						<div class="panel-footer">
							<ul class="pagination">
								<li><a class="btn btn-success" href="#">1</a></li>
								<li><a btn btn-success href="#">2</a></li>
								<li><a btn btn-success href="#">3</a></li>
								<li><a btn btn-success href="#">4</a></li>
								<li><a btn btn-success href="#">5</a></li>
								<li><a btn btn-success href="#">6</a></li>
							</ul>
						</div>
					</div>
					</div><!---end usrlist-->
					<div class="container tab-pane" id="adduser">

					</div><!--end adduser-->	
					</div>
		</div>
	</div>
	

	<script type="text/javascript" src="lib/js/jquery.js"></script>
	<script type="text/javascript" src="lib/js/bootstrap.js"></script>
	<script type="text/javascript">
		$(function(){
			//向上的箭头点击之后变成向下的箭头
			$(".jiantou>a").click(function(){
				console.log($(this).find('i').attr("class"))
				var x=$(this).find('i').attr("class");
				if(x=="glyphicon glyphicon-chevron-down pull-right"){
					$(this).find('i').attr("class","glyphicon glyphicon-chevron-up pull-right")
				}
				else{
					$(this).find('i').attr("class","glyphicon glyphicon-chevron-down pull-right")
				}
			})
		})
	</script>
	
	<script>
		function getUser($page){
			//获取远程服务器数据
			$.get('http://192.168.15.2/gz0820web/users',{page:$page},function(data){
				var users=data.data;
				
				if(users.length>0) $('tbody').empty();
				for(var i in users){
					var str=users[i].gender=="1" ? "男" : "女";
					var tr=$('<tr/>').appendTo('tbody');
						$('<td/>').html(users[i].id).appendTo(tr);
							$('<td/>').html(users[i].username).appendTo(tr);
							$('<td/>').html(str).appendTo(tr);
							$('<td/>').html(users[i].age).appendTo(tr);
						}
						if(users.length>0) 
							$('.pagination').empty();
						var pageing='';
						for(var i=1;i<=data.last_page;i++){
							if( i == data.current_page){
								pageing+='<li class="active"><a href="javascript:void(0)">'+i+'</a></li>';
								continue;
							}
							pageing+='<li><a href="javascript:getUser('+i+')">'+i+'</a></li>';
						}
				$('.pagination').html(pageing);
				},'json');
			}
						
						
		$(function(){
			//初始化第一页
			getUser(1);
		});
	</script>

</body>
</html>